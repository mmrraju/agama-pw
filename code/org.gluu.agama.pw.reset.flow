Flow org.gluu.agama.pw.reset
     Basepath ""
// Initiate reset service
resetService = Call org.gluu.agama.pw.ResetService#getInstance 
// Assign mail form feedback 
mailUIFeedback = {}
// Max 3 times repeat
Repeat 3 times max
     // Mail form
     mailForm = RRF "mailform.ftlh" mailUIFeedback
     // Check user exist or not with this mail.
     user = Call resetService getUserEntityByMail mailForm.mail
     // If user found.
     When user.empty is not true
          // User found with e-mail 
          Log "@info User found with e-mail % " mailForm.mail
          // OTP to verify user
          otp = Call resetService sendEmail mailForm.mail
          // OTP form feedback
          otpFormFeedback = {}
     Otherwise
          // User not found
          mailUIFeedback.errorMessage = "User not found"